/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package main;

import java.awt.Font;
import java.awt.Image;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Statement;
import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.table.TableModel;
import net.proteanit.sql.DbUtils;

/**
 *
 * @author HP
 */
public class start extends javax.swing.JFrame {
    //int for opening admin panel
    int clicks = 0;
    //int for opening and closing advanced search
    int adv = 0;
    /**
     * Creates new form start
     */
    public start(){
        initComponents();
        ShowData();
        
        advSearch.setVisible(false);
        
        tblShowData.getTableHeader().setFont(new Font("Tahoma" , 0, 14));
        
        //blank combo box
        SrchCat.insertItemAt("", 0);
        SrchCat.setSelectedIndex(0);
        
        lblAdv.setToolTipText("Open Advanced Search"); 
        
    }
private void ShowData(){
        
    //shows data to the table
        try{
            Connection myConn = conDB.getConnection();
            
            String sql = "SELECT no as 'No.', serial as 'ISBN/ISSN', title as 'Title', author as 'Author', category as 'Category', publisher as 'Publisher', year as 'Year', status as 'Status' FROM books";
                    
            PreparedStatement ps = myConn.prepareStatement(sql);
            
            ResultSet rs = ps.executeQuery();
            
            tblShowData.setModel(DbUtils.resultSetToTableModel(rs));
            
        }catch(Exception e){
            JOptionPane.showMessageDialog(rootPane, e);
        }
    }
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        Main = new javax.swing.JPanel();
        searchPanel = new javax.swing.JPanel();
        Search = new javax.swing.JLabel();
        txtSearch = new javax.swing.JTextField();
        btnSearch = new javax.swing.JButton();
        lblAdv = new javax.swing.JLabel();
        advSearch = new javax.swing.JPanel();
        SrchTitle = new javax.swing.JTextField();
        SrchAuthor = new javax.swing.JTextField();
        SrchPub = new javax.swing.JTextField();
        SrchYear = new javax.swing.JTextField();
        advTitle = new javax.swing.JLabel();
        advAuthor = new javax.swing.JLabel();
        SrchCat = new javax.swing.JComboBox();
        advCat = new javax.swing.JLabel();
        advPub = new javax.swing.JLabel();
        advYear = new javax.swing.JLabel();
        btnSearch2 = new javax.swing.JButton();
        btnClear2 = new javax.swing.JButton();
        userPanel = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblShowData = new javax.swing.JTable();
        lblImage = new javax.swing.JLabel();
        bookNum = new javax.swing.JLabel();
        bookSerial = new javax.swing.JLabel();
        bookTitle = new javax.swing.JLabel();
        bookAuthor = new javax.swing.JLabel();
        bookCat = new javax.swing.JLabel();
        bookPub = new javax.swing.JLabel();
        bookYear = new javax.swing.JLabel();
        bookStatus = new javax.swing.JLabel();
        lblNo = new javax.swing.JLabel();
        lblSerial = new javax.swing.JLabel();
        lblTitle = new javax.swing.JLabel();
        lblAuthor = new javax.swing.JLabel();
        lblCat = new javax.swing.JLabel();
        lblPub = new javax.swing.JLabel();
        lblYear = new javax.swing.JLabel();
        lblStatus = new javax.swing.JLabel();
        btnClear = new javax.swing.JButton();
        btnRefresh = new javax.swing.JButton();
        lblSanNicho = new javax.swing.JLabel();
        lblLogo = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setBackground(new java.awt.Color(255, 255, 255));
        setResizable(false);
        addWindowFocusListener(new java.awt.event.WindowFocusListener() {
            public void windowGainedFocus(java.awt.event.WindowEvent evt) {
                formWindowGainedFocus(evt);
            }
            public void windowLostFocus(java.awt.event.WindowEvent evt) {
            }
        });

        searchPanel.setBackground(new java.awt.Color(245, 245, 245));
        searchPanel.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        Search.setFont(new java.awt.Font("Tahoma", 1, 15)); // NOI18N
        Search.setForeground(new java.awt.Color(54, 61, 69));
        Search.setText("Search the Catalog:");

        txtSearch.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtSearch.setForeground(new java.awt.Color(54, 61, 69));

        btnSearch.setIcon(new javax.swing.ImageIcon(getClass().getResource("/main/button_search.png"))); // NOI18N
        btnSearch.setContentAreaFilled(false);
        btnSearch.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        btnSearch.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSearchActionPerformed(evt);
            }
        });

        lblAdv.setFont(new java.awt.Font("Tahoma", 1, 15)); // NOI18N
        lblAdv.setForeground(new java.awt.Color(54, 61, 69));
        lblAdv.setText("Advanced Search ↓");
        lblAdv.setToolTipText("");
        lblAdv.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        lblAdv.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblAdvMouseClicked(evt);
            }
        });

        advSearch.setBackground(new java.awt.Color(245, 245, 245));

        SrchTitle.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        SrchTitle.setForeground(new java.awt.Color(54, 61, 69));

        SrchAuthor.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        SrchAuthor.setForeground(new java.awt.Color(54, 61, 69));

        SrchPub.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        SrchPub.setForeground(new java.awt.Color(54, 61, 69));

        SrchYear.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        SrchYear.setForeground(new java.awt.Color(54, 61, 69));
        SrchYear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                SrchYearActionPerformed(evt);
            }
        });

        advTitle.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        advTitle.setForeground(new java.awt.Color(54, 61, 69));
        advTitle.setText("Title:");

        advAuthor.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        advAuthor.setForeground(new java.awt.Color(54, 61, 69));
        advAuthor.setText("Author:");

        SrchCat.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        SrchCat.setForeground(new java.awt.Color(54, 61, 69));
        SrchCat.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Educational", "Research", "Fiction" }));
        SrchCat.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                SrchCatActionPerformed(evt);
            }
        });

        advCat.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        advCat.setForeground(new java.awt.Color(54, 61, 69));
        advCat.setText("Category:");

        advPub.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        advPub.setForeground(new java.awt.Color(54, 61, 69));
        advPub.setText("Publisher:");

        advYear.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        advYear.setForeground(new java.awt.Color(54, 61, 69));
        advYear.setText("Year:");

        btnSearch2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/main/button_search.png"))); // NOI18N
        btnSearch2.setContentAreaFilled(false);
        btnSearch2.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        btnSearch2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSearch2ActionPerformed(evt);
            }
        });

        btnClear2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/main/button_clear (1).png"))); // NOI18N
        btnClear2.setContentAreaFilled(false);
        btnClear2.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        btnClear2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnClear2ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout advSearchLayout = new javax.swing.GroupLayout(advSearch);
        advSearch.setLayout(advSearchLayout);
        advSearchLayout.setHorizontalGroup(
            advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(advSearchLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(advTitle)
                    .addComponent(advAuthor)
                    .addComponent(advCat)
                    .addComponent(advPub)
                    .addComponent(advYear))
                .addGap(27, 27, 27)
                .addGroup(advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(SrchAuthor, javax.swing.GroupLayout.PREFERRED_SIZE, 203, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(SrchTitle, javax.swing.GroupLayout.PREFERRED_SIZE, 217, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(SrchCat, javax.swing.GroupLayout.PREFERRED_SIZE, 203, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(SrchPub)
                    .addComponent(SrchYear, javax.swing.GroupLayout.PREFERRED_SIZE, 191, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, advSearchLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(btnSearch2, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnClear2, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(43, 43, 43))
        );

        advSearchLayout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {SrchAuthor, SrchCat, SrchPub, SrchTitle, SrchYear});

        advSearchLayout.setVerticalGroup(
            advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(advSearchLayout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(advTitle)
                    .addComponent(SrchTitle, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(advAuthor)
                    .addComponent(SrchAuthor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(advCat)
                    .addComponent(SrchCat, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(advPub)
                    .addComponent(SrchPub, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(advYear)
                    .addComponent(SrchYear, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(advSearchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnClear2)
                    .addComponent(btnSearch2))
                .addContainerGap())
        );

        javax.swing.GroupLayout searchPanelLayout = new javax.swing.GroupLayout(searchPanel);
        searchPanel.setLayout(searchPanelLayout);
        searchPanelLayout.setHorizontalGroup(
            searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(searchPanelLayout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addGroup(searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(lblAdv)
                    .addComponent(Search)
                    .addComponent(btnSearch, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtSearch, javax.swing.GroupLayout.DEFAULT_SIZE, 323, Short.MAX_VALUE)
                    .addComponent(advSearch, javax.swing.GroupLayout.PREFERRED_SIZE, 323, Short.MAX_VALUE))
                .addContainerGap(44, Short.MAX_VALUE))
        );
        searchPanelLayout.setVerticalGroup(
            searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(searchPanelLayout.createSequentialGroup()
                .addGap(43, 43, 43)
                .addComponent(Search)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtSearch, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnSearch)
                .addGap(30, 30, 30)
                .addComponent(lblAdv)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(advSearch, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        userPanel.setBackground(new java.awt.Color(245, 245, 245));
        userPanel.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        tblShowData.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        tblShowData.setForeground(new java.awt.Color(54, 61, 69));
        tblShowData.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        tblShowData.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblShowDataMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(tblShowData);

        lblImage.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        lblImage.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        lblImage.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblImageMouseClicked(evt);
            }
        });

        bookNum.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bookNum.setForeground(new java.awt.Color(54, 61, 69));
        bookNum.setText("Number:");

        bookSerial.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bookSerial.setForeground(new java.awt.Color(54, 61, 69));
        bookSerial.setText("ISBN/ISSN:");

        bookTitle.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bookTitle.setForeground(new java.awt.Color(54, 61, 69));
        bookTitle.setText("Title:");

        bookAuthor.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bookAuthor.setForeground(new java.awt.Color(54, 61, 69));
        bookAuthor.setText("Author:");

        bookCat.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bookCat.setForeground(new java.awt.Color(54, 61, 69));
        bookCat.setText("Category:");

        bookPub.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bookPub.setForeground(new java.awt.Color(54, 61, 69));
        bookPub.setText("Publisher:");

        bookYear.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bookYear.setForeground(new java.awt.Color(54, 61, 69));
        bookYear.setText("Year:");

        bookStatus.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        bookStatus.setForeground(new java.awt.Color(54, 61, 69));
        bookStatus.setText("Status:");

        lblNo.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblNo.setText("     ");

        lblSerial.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblSerial.setText("     ");

        lblTitle.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblTitle.setText("     ");

        lblAuthor.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblAuthor.setText("     ");

        lblCat.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblCat.setText("     ");

        lblPub.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblPub.setText("     ");

        lblYear.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblYear.setText("     ");

        lblStatus.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblStatus.setText("     ");

        btnClear.setIcon(new javax.swing.ImageIcon(getClass().getResource("/main/button_clear (1).png"))); // NOI18N
        btnClear.setContentAreaFilled(false);
        btnClear.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        btnClear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnClearActionPerformed(evt);
            }
        });

        btnRefresh.setIcon(new javax.swing.ImageIcon(getClass().getResource("/main/button_refresh.png"))); // NOI18N
        btnRefresh.setContentAreaFilled(false);
        btnRefresh.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        btnRefresh.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRefreshActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout userPanelLayout = new javax.swing.GroupLayout(userPanel);
        userPanel.setLayout(userPanelLayout);
        userPanelLayout.setHorizontalGroup(
            userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(userPanelLayout.createSequentialGroup()
                .addGap(133, 133, 133)
                .addComponent(lblImage, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(bookNum)
                    .addComponent(bookSerial)
                    .addComponent(bookTitle)
                    .addComponent(bookAuthor)
                    .addComponent(bookCat)
                    .addComponent(bookPub)
                    .addComponent(bookYear)
                    .addComponent(bookStatus))
                .addGap(22, 22, 22)
                .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblSerial)
                    .addComponent(lblNo)
                    .addComponent(lblTitle)
                    .addComponent(lblAuthor)
                    .addComponent(lblCat)
                    .addComponent(lblPub)
                    .addComponent(lblYear)
                    .addComponent(lblStatus)
                    .addComponent(btnClear, javax.swing.GroupLayout.PREFERRED_SIZE, 68, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(278, Short.MAX_VALUE))
            .addGroup(userPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, userPanelLayout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(btnRefresh, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        userPanelLayout.setVerticalGroup(
            userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(userPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnRefresh)
                .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(userPanelLayout.createSequentialGroup()
                        .addGap(26, 26, 26)
                        .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(bookNum)
                            .addComponent(lblNo))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(bookSerial)
                            .addComponent(lblSerial))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(bookTitle)
                            .addComponent(lblTitle))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(bookAuthor)
                            .addComponent(lblAuthor))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(bookCat)
                            .addComponent(lblCat))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(bookPub)
                            .addComponent(lblPub))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(bookYear)
                            .addComponent(lblYear))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(bookStatus)
                            .addComponent(lblStatus))
                        .addGap(18, 18, 18)
                        .addComponent(btnClear))
                    .addGroup(userPanelLayout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lblImage, javax.swing.GroupLayout.PREFERRED_SIZE, 243, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(25, Short.MAX_VALUE))
        );

        lblSanNicho.setFont(new java.awt.Font("Tahoma", 1, 40)); // NOI18N
        lblSanNicho.setForeground(new java.awt.Color(54, 61, 69));
        lblSanNicho.setText("SHS in San Nicholas III Library");

        lblLogo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/main/6a899365-a0d1-4a27-9cfe-24db8764f42d (3).png"))); // NOI18N
        lblLogo.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblLogoMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout MainLayout = new javax.swing.GroupLayout(Main);
        Main.setLayout(MainLayout);
        MainLayout.setHorizontalGroup(
            MainLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(MainLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(MainLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(MainLayout.createSequentialGroup()
                        .addComponent(searchPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(userPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(MainLayout.createSequentialGroup()
                        .addComponent(lblLogo)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(lblSanNicho)))
                .addContainerGap())
        );
        MainLayout.setVerticalGroup(
            MainLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(MainLayout.createSequentialGroup()
                .addGroup(MainLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(MainLayout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addComponent(lblLogo))
                    .addGroup(MainLayout.createSequentialGroup()
                        .addGap(23, 23, 23)
                        .addComponent(lblSanNicho)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(MainLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(userPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(searchPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(Main, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(Main, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void formWindowGainedFocus(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowGainedFocus
        // TODO add your handling code here:
        this.requestFocusInWindow();
    }//GEN-LAST:event_formWindowGainedFocus

    private void lblLogoMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblLogoMouseClicked
        // TODO add your handling code here:
        clicks++;        
        if(clicks==5){
            admin adm = new admin();
            adm.setVisible(true);
            adm.pack();
            adm.setLocationRelativeTo(null);
            adm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            this.dispose();
        }
        
    }//GEN-LAST:event_lblLogoMouseClicked

    private void btnSearchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSearchActionPerformed
        // TODO add your handling code here:
        
        //search function
        String title = txtSearch.getText();
        String auth = txtSearch.getText();
        
        try{
            
            String res = "SELECT no as 'No.', serial as 'ISBN/ISSN', title as 'Title', author as 'Author', category as 'Category', publisher as 'Publisher', year as 'Year', status as 'Status' FROM books WHERE title LIKE '%" + title + "%' OR author LIKE '%"+auth+"%'";
            
            Connection myConn = conDB.getConnection();
            PreparedStatement ps = myConn.prepareStatement(res);

            ResultSet rs = ps.executeQuery();

            tblShowData.setModel(DbUtils.resultSetToTableModel(rs));
            
        }catch(Exception e){
            JOptionPane.showMessageDialog(rootPane, e);
        }
        
    }//GEN-LAST:event_btnSearchActionPerformed

    private void tblShowDataMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblShowDataMouseClicked
        // TODO add your handling code here:
        
        //outputs data of selected row
        try{
            int i = tblShowData.getSelectedRow();
            TableModel model = tblShowData.getModel();
            lblNo.setText(model.getValueAt(i, 0).toString());
            lblSerial.setText(model.getValueAt(i, 1).toString());
            lblTitle.setText(model.getValueAt(i, 2).toString());
            lblAuthor.setText(model.getValueAt(i, 3).toString());
            lblCat.setText(model.getValueAt(i, 4).toString());
            lblPub.setText(model.getValueAt(i, 5).toString());
            lblYear.setText(model.getValueAt(i, 6).toString());
            lblStatus.setText(model.getValueAt(i, 7).toString());
            
            Connection myConn = conDB.getConnection();
            Statement st = myConn.createStatement();
            ResultSet rs = st.executeQuery("SELECT * FROM books WHERE no='"+lblNo.getText()+"'");
            if(rs.next()){
                byte[] img = rs.getBytes("imageFile");
                ImageIcon image = new ImageIcon(img);
                Image im = image.getImage();
                Image myImg = im.getScaledInstance(200, 243, Image.SCALE_SMOOTH);
                ImageIcon newImage = new ImageIcon(myImg);
                lblImage.setIcon(newImage);
            }else{
                lblImage.setText("No cover avilable");
            }
            
        }catch(Exception  e){
            JOptionPane.showMessageDialog(rootPane, e);
        }
    }//GEN-LAST:event_tblShowDataMouseClicked

    private void lblAdvMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblAdvMouseClicked
        // TODO add your handling code here:
        adv++;
        
        if(adv%2 == 0){
            advSearch.setVisible(false);
            lblAdv.setText("Advanced Search ↓");
            lblAdv.setToolTipText("Open Advanced Search.");
        }
        else{
            advSearch.setVisible(true);
            lblAdv.setText("Advanced Search ↑");
            lblAdv.setToolTipText("Close Advanced Search.");
        }
        
    }//GEN-LAST:event_lblAdvMouseClicked

    private void SrchCatActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_SrchCatActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_SrchCatActionPerformed

    private void SrchYearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_SrchYearActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_SrchYearActionPerformed

    private void btnClearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnClearActionPerformed
        // TODO add your handling code here:
        lblNo.setText(null);
        lblSerial.setText(null);
        lblTitle.setText(null);
        lblAuthor.setText(null);
        lblCat.setText(null);
        lblPub.setText(null);
        lblYear.setText(null);
        lblStatus.setText(null);
        lblImage.setIcon(null);
    }//GEN-LAST:event_btnClearActionPerformed

    private void btnSearch2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSearch2ActionPerformed
        // TODO add your handling code here:
        
        //advanced search
        String title = SrchTitle.getText();
        String author = SrchAuthor.getText();
        String cat = SrchCat.getSelectedItem().toString();
        String pub = SrchPub.getText();
        String year = SrchYear.getText();

        try{

            String res = "SELECT no as 'No.', serial as 'ISBN/ISSN', title as 'Title', author as 'Author', category as 'Category', publisher as 'Publisher', year as 'Year', status as 'Status' FROM books WHERE title LIKE '%" + title + "%' AND author LIKE '%" + author + "%' AND category LIKE '%"+cat+"%' AND publisher LIKE '%"+pub+"%' AND year LIKE '%"+year+"%'";

            Connection myConn = conDB.getConnection();
            PreparedStatement ps = myConn.prepareStatement(res);

            ResultSet rs = ps.executeQuery();

            tblShowData.setModel(DbUtils.resultSetToTableModel(rs));

        }catch(Exception e){
            JOptionPane.showMessageDialog(rootPane, e);
        }
    }//GEN-LAST:event_btnSearch2ActionPerformed

    private void btnClear2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnClear2ActionPerformed
        // TODO add your handling code here:
        SrchTitle.setText(null);
        SrchAuthor.setText(null);
        SrchCat.setSelectedIndex(0);
        SrchPub.setText(null);
        SrchYear.setText(null);
    }//GEN-LAST:event_btnClear2ActionPerformed

    private void btnRefreshActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRefreshActionPerformed
        // TODO add your handling code here:
        ShowData();
    }//GEN-LAST:event_btnRefreshActionPerformed

    private void lblImageMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblImageMouseClicked
        // TODO add your handling code here:
        
        byte [] img = null;
        
        //views enlarged image in new frame
        try{
            
            Connection myConn = conDB.getConnection();
            Statement st = myConn.createStatement();
            ResultSet rs = st.executeQuery("SELECT * FROM books WHERE no='"+lblNo.getText()+"'");
            if(rs.next()){
            
                viewImage view = new viewImage();
                view.setVisible(true);
                view.pack();
                view.setLocationRelativeTo(null);
                view.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
            
                img = rs.getBytes("imageFile");
                ImageIcon image = new ImageIcon(img);
                Image im = image.getImage();
                Image myImg = im.getScaledInstance(353, 530, Image.SCALE_SMOOTH);
                ImageIcon newImage = new ImageIcon(myImg);
                viewImage.largeImage.setIcon(newImage); 
        }
        else if(img==null){
            JOptionPane.showMessageDialog(rootPane, "None selected!");
        }
        }catch(Exception e){
            JOptionPane.showMessageDialog(rootPane, e);
        }
    }//GEN-LAST:event_lblImageMouseClicked

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new start().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel Main;
    private javax.swing.JLabel Search;
    private javax.swing.JTextField SrchAuthor;
    private javax.swing.JComboBox SrchCat;
    private javax.swing.JTextField SrchPub;
    private javax.swing.JTextField SrchTitle;
    private javax.swing.JTextField SrchYear;
    private javax.swing.JLabel advAuthor;
    private javax.swing.JLabel advCat;
    private javax.swing.JLabel advPub;
    private javax.swing.JPanel advSearch;
    private javax.swing.JLabel advTitle;
    private javax.swing.JLabel advYear;
    private javax.swing.JLabel bookAuthor;
    private javax.swing.JLabel bookCat;
    private javax.swing.JLabel bookNum;
    private javax.swing.JLabel bookPub;
    private javax.swing.JLabel bookSerial;
    private javax.swing.JLabel bookStatus;
    private javax.swing.JLabel bookTitle;
    private javax.swing.JLabel bookYear;
    private javax.swing.JButton btnClear;
    private javax.swing.JButton btnClear2;
    private javax.swing.JButton btnRefresh;
    private javax.swing.JButton btnSearch;
    private javax.swing.JButton btnSearch2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lblAdv;
    private javax.swing.JLabel lblAuthor;
    private javax.swing.JLabel lblCat;
    private static javax.swing.JLabel lblImage;
    private javax.swing.JLabel lblLogo;
    private javax.swing.JLabel lblNo;
    private javax.swing.JLabel lblPub;
    private javax.swing.JLabel lblSanNicho;
    private javax.swing.JLabel lblSerial;
    private javax.swing.JLabel lblStatus;
    private javax.swing.JLabel lblTitle;
    private javax.swing.JLabel lblYear;
    private javax.swing.JPanel searchPanel;
    private javax.swing.JTable tblShowData;
    private javax.swing.JTextField txtSearch;
    private javax.swing.JPanel userPanel;
    // End of variables declaration//GEN-END:variables
}
